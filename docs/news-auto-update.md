# 行业资讯自动更新功能说明

## 功能概述

行业资讯页面现已集成**实时联网搜索**功能，能够自动获取仪器仪表行业的最新资讯内容。

## 技术实现

### API 路由

**位置**: `src/app/api/news/route.ts`

- 使用 `coze-coding-dev-sdk` 进行联网搜索
- 搜索关键词：
  - "仪器仪表行业 最新资讯"
  - "工业仪表 技术动态"
  - "测量设备 行业新闻"
- 时间范围：最近一周（`timeRange: "1w"`）

### 缓存机制

- **缓存时间**: 5分钟
- **缓存目的**: 减少API调用，提高响应速度
- **更新方式**:
  - 自动：5分钟后自动失效
  - 手动：点击"刷新"按钮立即更新

### 数据分类

自动将资讯分类为以下类别：
- **技术突破**: 包含"技术"、"创新"、"研发"等关键词
- **政策法规**: 包含"政策"、"标准"、"规范"等关键词
- **应用案例**: 包含"应用"、"案例"、"项目"等关键词
- **市场分析**: 包含"市场"、"需求"、"趋势"等关键词
- **行业动态**: 其他相关资讯

### 数据排序

1. 优先按发布时间排序（最新的在前）
2. 无发布时间的按权威性等级排序

## 用户功能

### 刷新资讯

用户可以通过以下方式刷新资讯：
1. 点击页面右上角的"刷新"按钮
2. 5分钟后自动刷新（重新访问页面时）

### 加载状态

- **加载中**: 显示加载动画和提示文字
- **加载失败**: 显示错误信息和重试按钮
- **缓存数据**: 显示黄色提示"显示缓存数据（缓存5分钟）"

### 空状态

如果没有找到相关资讯，显示友好提示信息。

## API 接口

### GET /api/news

**响应格式**:

```json
{
  "success": true,
  "data": [
    {
      "id": "string",
      "title": "资讯标题",
      "url": "资讯链接",
      "snippet": "摘要内容",
      "summary": "AI生成的总结",
      "site_name": "来源网站",
      "publish_time": "发布时间",
      "logo_url": "网站Logo",
      "category": "分类",
      "auth_info_level": 0
    }
  ],
  "fromCache": false,
  "count": 15
}
```

**错误响应**:

```json
{
  "success": false,
  "error": "错误类型",
  "message": "错误详情"
}
```

## 性能优化

1. **客户端缓存**: 5分钟内存缓存
2. **并行搜索**: 同时执行多个搜索请求
3. **去重处理**: 自动去除重复URL
4. **分页加载**: 首屏显示，避免一次性加载过多数据

## 注意事项

1. **网络要求**: 需要互联网连接才能获取最新资讯
2. **搜索频率**: 建议不要过于频繁刷新，避免API调用过多
3. **数据来源**: 内容来自互联网搜索，可能需要人工审核
4. **缓存失效**: 5分钟后缓存自动失效，需要重新获取

## 自定义配置

如需修改搜索关键词或时间范围，编辑 `src/app/api/news/route.ts`:

```typescript
// 搜索关键词
const searchQueries = [
  '仪器仪表行业 最新资讯',
  '工业仪表 技术动态',
  '测量设备 行业新闻',
];

// 时间范围（可选: "1d", "1w", "1m"）
timeRange: '1w'
```

## 未来改进方向

1. 添加RSS订阅支持
2. 支持自定义来源网站
3. 添加资讯收藏功能
4. 支持关键词搜索过滤
5. 添加评论系统
6. 集成更多专业资讯源
